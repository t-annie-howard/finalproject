<!DOCTYPE html>
<html lang="english">
<head>
    <title>Annie Howard Leaflet Map UPP 465</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400&display=swap" rel="stylesheet">

    <!-- Copy your leaflet link here:  -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
            integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
            crossorigin=""></script>

    <!-- Copy your Leaflet Basemap Provider Link Here: -->
    <script src="js/leaflet-providers.js"></script>

    <!-- Add jQuery/ajax  -->
    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>


</head>
<body>

<div class = "intro">
<h1>Comparing Chicago's Hardship Index and Gentrification Index</h1>
<h3></h3>


</div>


<div id = "map2" ></div>

<p></p>
<p></p>
<p></p>
<p></p>

<div id = "map3"></div>

<p></p>
<p></p>
<p></p>
<p></p>

<div id = "map"></div>

<script>

    // initialize your map here
    var map = L.map('map').setView([41.86, -87.66], 10); 


    var map2 = L.map('map2').setView([41.86, -87.66], 10);


    var map3 = L.map('map3').setView([41.86, -87.66], 10);

    // add a base layer

    var Stamen_TonerLite = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
        attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                subdomains: 'abcd',
                minZoom: 0,
                maxZoom: 20,
                ext: 'png'
            }).addTo(map);


    var Stamen_TonerLite = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
        attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                subdomains: 'abcd',
                minZoom: 0,
                maxZoom: 20,
                ext: 'png'
            }).addTo(map2);


    var Stamen_TonerLite = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
        attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                subdomains: 'abcd',
                minZoom: 0,
                maxZoom: 20,
                ext: 'png'
            }).addTo(map3);

    $.getJSON("HardshipGentrification.geojson", function(data){
        L.geoJson(data, {
            style: function(feature){
            var conditionalColor,
            hardship = feature.properties.HI,
            gentrification = feature.properties.GentrificationNumber;
               /*
                if (hardship > 75 && gentrification == 9) conditionalColor = "#574820";
                else if (hardship > 75 && gentrification == 8) conditionalColor = "#846d42";
                else if (hardship > 75 && gentrification == 7) conditionalColor = "#9a937a";
                else if (hardship > 75 && gentrification == 4) conditionalColor = "#426284";
                else if (hardship > 75 && gentrification == 3) conditionalColor = "#7a95a4";
                else if (hardship <= 75 && hardship > 50 && gentrification == 9) conditionalColor = "#9d8965";
                else if (hardship <= 75 && hardship > 50 && gentrification == 8) conditionalColor = "#d6b981";
                else if (hardship <= 75 && hardship > 50 && gentrification == 7) conditionalColor = "#f3e9c9";
                else if (hardship <= 75 && hardship > 50 && gentrification == 5) conditionalColor = "#81abd7";
                else if (hardship <= 75 && hardship > 50 && gentrification == 4) conditionalColor = "#c9ecff";
                else if (hardship <= 50 && hardship > 25 && gentrification == 6) conditionalColor = "#f9f4e5";
                else if (hardship <= 50 && hardship > 25 && gentrification == 5) conditionalColor = "#d0ebc2";
                else if (hardship <= 50 && hardship > 25 && gentrification == 4) conditionalColor = "#eeffe5";
                else if (hardship <= 50 && hardship > 25 && gentrification == 3) conditionalColor = "#e5f6ff";
                else if (hardship <= 50 && hardship > 25 && gentrification == 2) conditionalColor = "#ffffe5";
                else if (hardship <= 50 && hardship > 25 && gentrification == 1) conditionalColor = "#ffffc7";
                else if (hardship <= 25 && gentrification == 6) conditionalColor = "#85c763";
                else if (hardship <= 25 && gentrification == 5) conditionalColor = "#cdf768";
                else if (hardship <= 25 && gentrification == 2) conditionalColor = "#f7f768";
                else if (hardship <= 25 && gentrification == 1) conditionalColor = "#f6f76f";
                */
                
                if (hardship > 75 && gentrification == 9) conditionalColor = "#2c2416";
                else if (hardship > 75 && gentrification == 8) conditionalColor = "#423721";
                else if (hardship > 75 && gentrification == 7) conditionalColor = "#4d493d";
                else if (hardship > 75 && gentrification == 4) conditionalColor = "#213142";
                else if (hardship > 75 && gentrification == 3) conditionalColor = "#3d4b52";
                else if (hardship <= 75 && hardship > 50 && gentrification == 9) conditionalColor = "#504228";
                else if (hardship <= 75 && hardship > 50 && gentrification == 8) conditionalColor = "#79643c";
                else if (hardship <= 75 && hardship > 50 && gentrification == 7) conditionalColor = "#8d8670";
                else if (hardship <= 75 && hardship > 50 && gentrification == 5) conditionalColor = "#7d9570";
                else if (hardship <= 75 && hardship > 50 && gentrification == 4) conditionalColor = "#708896";
                else if (hardship <= 50 && hardship > 25 && gentrification == 6) conditionalColor = "#6ea452";
                else if (hardship <= 50 && hardship > 25 && gentrification == 5) conditionalColor = "#aacb98";
                else if (hardship <= 50 && hardship > 25 && gentrification == 4) conditionalColor = "#527aa5";
                else if (hardship <= 50 && hardship > 25 && gentrification == 3) conditionalColor = "#98bacc";
                else if (hardship <= 50 && hardship > 25 && gentrification == 2) conditionalColor = "#cccc98";
                else if (hardship <= 50 && hardship > 25 && gentrification == 1) conditionalColor = "#cbcc5c";
                else if (hardship <= 25 && gentrification == 6) conditionalColor = "#85c763";
                else if (hardship <= 25 && gentrification == 5) conditionalColor = "#cdf6b8";
                else if (hardship <= 25 && gentrification == 2) conditionalColor = "#f7f7b8";
                else if (hardship <= 25 && gentrification == 1) conditionalColor = "#f6f76f";

                else conditionalColor = "#555666";
                return {    color: "#996184",
                            weight: 1,
                            fillColor: conditionalColor,
                            fillOpacity: .8 };
                        },
                onEachFeature: function (feature, layer){
           layer.bindPopup( "Neighborhood: " + feature.properties.CA + "<br/>" + "Hardship Index Score: " + feature.properties.HI + "<br/>" + "Gentrification Index: " + feature.properties.GentrificationNumber )
        }
        }  ).addTo(map).bringToBack();
    });

  

    $.getJSON("HardshipGentrification.geojson", function(data){
        L.geoJson(data, {
            style: function(feature){
                var conditionalColor,
                    gentrification = feature.properties.GentrificationNumber;
                if (gentrification == 1) conditionalColor = "#feff73";
                else if (gentrification == 2) conditionalColor = "#ffffbe";
                else if (gentrification == 3) conditionalColor = "#bee8ff";
                else if (gentrification == 4) conditionalColor = "#6699ce";
                else if (gentrification == 5) conditionalColor = "#d4ffbe";
                else if (gentrification == 6) conditionalColor = "#89cd66";
                else if (gentrification == 7) conditionalColor = "#f0e4be";
                else if (gentrification == 8) conditionalColor = "#cdaa66";
                else if (gentrification == 9) conditionalColor = "#887044";
                else conditionalColor = "#555666";
                return {    color: "#996184",
                    weight: 1,
                    fillColor: conditionalColor,
                    fillOpacity: .8 };
            },
            onEachFeature: function (feature, layer){
                layer.bindPopup( "Neighborhood: " + feature.properties.CA + "<br/>" + "Gentrification Index: " + feature.properties.GentrificationNumber )
            }
        }  ).addTo(map2).bringToBack();
    });


    $.getJSON("HardshipGentrification.geojson", function(data){
        L.geoJson(data, {
            style: function(feature){
                var conditionalColor,
                    hardship = feature.properties.HI;
                if (hardship > 75) conditionalColor = "#525252";
                else if (hardship <= 75 && hardship > 50) conditionalColor = "#969696";
                else if (hardship <= 50 && hardship > 25) conditionalColor = "#cccccc";
                else if (hardship <= 25) conditionalColor = "#f7f7f7";
                else conditionalColor = "#555666";
                return {    color: "#996184",
                    weight: 1,
                    fillColor: conditionalColor,
                    fillOpacity: .8 };
            },
            onEachFeature: function (feature, layer){
                layer.bindPopup( "Neighborhood: " + feature.properties.CA + "<br/>" + "Hardship Index: " + feature.properties.HI )
            }
        }  ).addTo(map3).bringToBack();
    });
    


    /*Legend specific*/
var legend = L.control({ position: "bottomleft" });

legend.onAdd = function(map2) {
  var div = L.DomUtil.create("div", "legend");
  div.innerHTML += "<h4>Gentrification Index</h4>";
  div.innerHTML += '<i style="background: #feff73"></i><span>1: No Change, Upper Class</span><br>';
  div.innerHTML += '<i style="background: #ffffbe"></i><span>2: No Change, Middle Class</span><br>';
  div.innerHTML += '<i style="background: #bee8ff"></i><span>3: No Change, Poverty</span><br>';
  div.innerHTML += '<i style="background: #6699ce"></i><span>4: No Change, Extreme Poverty</span><br>';
  div.innerHTML += '<i style="background: #d4ffbe"></i><span>5: Positive Change, Not Gentrification</span><br>';
  div.innerHTML += '<i style="background: #89cd66"></i><span>6: Positive Change, Gentrification</span><br>';
  div.innerHTML += '<i style="background: #f0e4be"></i><span>7: Negative Change, Mild Decline</span><br>';
  div.innerHTML += '<i style="background: #cdaa66"></i><span>8: Negative Change, Moderate Decline</span><br>';
  div.innerHTML += '<i style="background: #887044"></i><span>9: Negative Change, Serious Decline</span><br>';
  
  return div;
};

legend.addTo(map2);


var legend = L.control({ position: "bottomleft" });

legend.onAdd = function(map3) {
  var div = L.DomUtil.create("div", "legend");
  div.innerHTML += "<h4>Gentrification Index</h4>";
  div.innerHTML += '<i style="background: #f7f7f7"></i><span>0-25: Upper-Class</span><br>';
  div.innerHTML += '<i style="background: #cccccc"></i><span>26-50: Middle-Clas</span><br>';
  div.innerHTML += '<i style="background: #969696"></i><span>51-75: Poverty</span><br>';
  div.innerHTML += '<i style="background: #525252"></i><span>76-100: Extreme Poverty</span><br>';

  return div;
};

legend.addTo(map3);


</script>

</body>

</html>